<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚é–“è¨ˆç®—</title>
    <meta name="description" content="ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚é–“è¨ˆç®—ã‚¢ãƒ—ãƒªã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼">
    <meta name="theme-color" content="#424242">
    <link rel="icon" href="../favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png">
    <link rel="manifest" href="../manifest.json">
    <link rel="stylesheet" href="../css/style.css">

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EJ1DN1T33S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EJ1DN1T33S');
</script>

</head>
<body data-theme="dark" data-accent="mono">
    <!-- å·¦ä¸‹ã®ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ -->
    <a href="../index.html" class="privacy-link-bottom-left" id="backToHomeLink">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸</a>

    <!-- å³ä¸Šã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
    <div class="top-right-controls">
        <div class="lang-toggle">
            <button class="lang-btn active" data-lang="ja">JP</button>
            <button class="lang-btn" data-lang="en">EN</button>
        </div>
        <button class="settings-btn" id="settingsBtn" aria-label="è¨­å®š">âš™ï¸</button>
    </div>

    <div class="container">
        <div class="card">
            <!-- é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ -->
            <button class="floating-close-btn" id="floatingCloseBtn" aria-label="é–‰ã˜ã‚‹" onclick="window.location.href='../index.html'">âœ•</button>
            <header>
                <h1 id="pageTitle">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</h1>
            </header>

            <div class="privacy-content">
                <section>
                    <h2 id="section1Title">1. ã¯ã˜ã‚ã«</h2>
                    <p id="section1Text">æœ¬ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚é–“è¨ˆç®—ã‚¢ãƒ—ãƒªï¼ˆä»¥ä¸‹ã€Œæœ¬ã‚¢ãƒ—ãƒªã€ï¼‰ã«ãŠã‘ã‚‹å€‹äººæƒ…å ±ã®å–ã‚Šæ‰±ã„ã«ã¤ã„ã¦èª¬æ˜ã™ã‚‹ã‚‚ã®ã§ã™ã€‚æœ¬ã‚¢ãƒ—ãƒªã‚’ã”åˆ©ç”¨ã„ãŸã ãã“ã¨ã§ã€æœ¬ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã•ã‚Œã¾ã™ã€‚</p>
                </section>

                <section>
                    <h2 id="section2Title">2. åé›†ã™ã‚‹æƒ…å ±</h2>
                    <p id="section2Text">æœ¬ã‚¢ãƒ—ãƒªã¯ã€ä»¥ä¸‹ã®æƒ…å ±ã‚’åé›†ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼š</p>
                    <ul>
                        <li id="section2Item1">è¨ˆç®—å±¥æ­´ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ï¼‰</li>
                        <li id="section2Item2">è¨­å®šæƒ…å ±ï¼ˆãƒ†ãƒ¼ãƒã€è¨€èªè¨­å®šãªã©ï¼‰</li>
                        <li id="section2Item3">Google Analyticsã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹è§£æãƒ‡ãƒ¼ã‚¿</li>
                    </ul>
                </section>

                <section>
                    <h2 id="section3Title">3. æƒ…å ±ã®åˆ©ç”¨ç›®çš„</h2>
                    <p id="section3Text">åé›†ã—ãŸæƒ…å ±ã¯ã€ä»¥ä¸‹ã®ç›®çš„ã§åˆ©ç”¨ã—ã¾ã™ï¼š</p>
                    <ul>
                        <li id="section3Item1">ã‚¢ãƒ—ãƒªã®æ©Ÿèƒ½æä¾›ï¼ˆè¨ˆç®—å±¥æ­´ã®ä¿å­˜ã€è¨­å®šã®ä¿æŒï¼‰</li>
                        <li id="section3Item2">ã‚µãƒ¼ãƒ“ã‚¹ã®æ”¹å–„ã¨åˆ†æ</li>
                        <li id="section3Item3">ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š</li>
                    </ul>
                </section>

                <section>
                    <h2 id="section4Title">4. æƒ…å ±ã®ä¿å­˜ã¨ç®¡ç†</h2>
                    <p id="section4Text">è¨ˆç®—å±¥æ­´ã¨è¨­å®šæƒ…å ±ã¯ã€ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã‚‰ã®æƒ…å ±ã¯ã€ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹ä¸Šã«ã®ã¿ä¿å­˜ã•ã‚Œã€å¤–éƒ¨ã®ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
                </section>

                <section>
                    <h2 id="section5Title">5. Google Analyticsã«ã¤ã„ã¦</h2>
                    <p id="section5Text">æœ¬ã‚¢ãƒ—ãƒªã¯ã€Google Analyticsã‚’ä½¿ç”¨ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹è§£æã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚Google Analyticsã¯ã€Cookieã‚’ä½¿ç”¨ã—ã¦åŒ¿åã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã—ã¾ã™ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ã¯ã€Googleã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã«å¾“ã£ã¦ç®¡ç†ã•ã‚Œã¾ã™ã€‚</p>
                </section>

                <section>
                    <h2 id="section6Title">6. æƒ…å ±ã®å…±æœ‰</h2>
                    <p id="section6Text">æœ¬ã‚¢ãƒ—ãƒªã¯ã€ãŠå®¢æ§˜ã®å€‹äººæƒ…å ±ã‚’ç¬¬ä¸‰è€…ã¨å…±æœ‰ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãŸã ã—ã€æ³•å¾‹ã«ã‚ˆã‚Šé–‹ç¤ºãŒç¾©å‹™ä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆã‚’é™¤ãã¾ã™ã€‚</p>
                </section>

                <section>
                    <h2 id="section7Title">7. ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®å¤‰æ›´</h2>
                    <p id="section7Text">æœ¬ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯ã€äºˆå‘Šãªãå¤‰æ›´ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚å¤‰æ›´å¾Œã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯ã€æœ¬ãƒšãƒ¼ã‚¸ã«æ²è¼‰ã•ã‚ŒãŸæ™‚ç‚¹ã§åŠ¹åŠ›ã‚’ç”Ÿã˜ã¾ã™ã€‚</p>
                </section>

                <section>
                    <h2 id="section8Title">8. ãŠå•ã„åˆã‚ã›</h2>
                    <p id="section8Text">ãƒã‚°å ±å‘Šã‚„æ”¹å–„ææ¡ˆãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€<a href="https://github.com/ryo0w0/download_time_calc/issues" target="_blank" rel="noopener noreferrer">GitHubãƒªãƒã‚¸ãƒˆãƒªã®Issue</a>ã¾ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚</p>
                </section>

                <section>
                    <p id="lastUpdated">æœ€çµ‚æ›´æ–°æ—¥: 2025å¹´12æœˆ16æ—¥</p>
                </section>
            </div>
        </div>
    </div>

    <div class="footer">
        <span>By <span class="footer-dot"></span><a href="https://www.instagram.com/ryo0.jpg/" target="_blank" rel="noopener noreferrer">Ryo</a> based in Japan</span>
        <span id="jstTime"></span>
    </div>

    <!-- è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="settingsTitle">è¨­å®š</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>

            <div class="setting-section">
                <h3 id="themeTitle">ãƒ†ãƒ¼ãƒ</h3>
                <div class="theme-options">
                    <button class="option-btn" data-theme="light"><span class="theme-text-light">â˜€ï¸ ãƒ©ã‚¤ãƒˆ</span><span class="theme-text-en" style="display:none;">â˜€ï¸ Light</span></button>
                    <button class="option-btn" data-theme="pure-dark"><span class="theme-text-dark">âš« ãƒ€ãƒ¼ã‚¯</span><span class="theme-text-en" style="display:none;">âš« Dark</span></button>
                    <button class="option-btn" data-theme="dark"><span class="theme-text-gray">ğŸŒ™ ã‚°ãƒ¬ãƒ¼</span><span class="theme-text-en" style="display:none;">ğŸŒ™ Gray Dark</span></button>
                </div>
            </div>

            <div class="setting-section">
                <h3 id="colorTitle">ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼</h3>
                <div class="color-options">
                    <button class="option-btn" data-color="mono">
                        <span class="color-preview" style="background: linear-gradient(to right, #424242, #e0e0e0);"></span><span class="color-text-mono">ãƒ¢ãƒã‚¯ãƒ­</span><span class="color-text-en" style="display:none;">Mono</span>
                    </button>
                    <button class="option-btn" data-color="blue">
                        <span class="color-preview" style="background-color: #2196F3;"></span><span class="color-text-blue">ãƒ–ãƒ«ãƒ¼</span><span class="color-text-en" style="display:none;">Blue</span>
                    </button>
                    <button class="option-btn" data-color="green">
                        <span class="color-preview" style="background-color: #4CAF50;"></span><span class="color-text-green">ã‚°ãƒªãƒ¼ãƒ³</span><span class="color-text-en" style="display:none;">Green</span>
                    </button>
                    <button class="option-btn" data-color="purple">
                        <span class="color-preview" style="background-color: #9C27B0;"></span><span class="color-text-purple">ãƒ‘ãƒ¼ãƒ—ãƒ«</span><span class="color-text-en" style="display:none;">Purple</span>
                    </button>
                    <button class="option-btn" data-color="orange">
                        <span class="color-preview" style="background-color: #FF9800;"></span><span class="color-text-orange">ã‚ªãƒ¬ãƒ³ã‚¸</span><span class="color-text-en" style="display:none;">Orange</span>
                    </button>
                    <button class="option-btn" data-color="red">
                        <span class="color-preview" style="background-color: #F44336;"></span><span class="color-text-red">ãƒ¬ãƒƒãƒ‰</span><span class="color-text-en" style="display:none;">Red</span>
                    </button>
                    <button class="option-btn" data-color="pink">
                        <span class="color-preview" style="background-color: #E91E63;"></span><span class="color-text-pink">ãƒ”ãƒ³ã‚¯</span><span class="color-text-en" style="display:none;">Pink</span>
                    </button>
                </div>
            </div>

            <div style="margin-top: 24px; display: flex; justify-content: center;">
                <button class="save-btn" id="saveSettings" style="width: 100%;"><span id="saveBtnText">é–‰ã˜ã‚‹</span><span id="saveBtnTextEn" style="display:none;">Close</span></button>
            </div>
        </div>
    </div>

    <script>
        // ====== Cookieç®¡ç†é–¢æ•° ======
        function getCookie(name) {
            const nameEQ = name + "=";
            const ca = document.cookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
        }

        function setCookie(name, value, days = 365) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            const expires = "expires=" + date.toUTCString();
            document.cookie = name + "=" + value + ";" + expires + ";path=/";
        }

        // ====== è¨­å®šã®èª­ã¿è¾¼ã¿ã¨é©ç”¨ ======
        let savedTheme = getCookie('theme') || 'dark';
        let savedAccent = getCookie('accent') || 'mono';
        let currentLang = getCookie('lang') || 'ja';
        let translations = {};

        // ãƒ†ãƒ¼ãƒã¨ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚’é©ç”¨
        document.body.setAttribute('data-theme', savedTheme);
        document.body.setAttribute('data-accent', savedAccent);

        // ====== ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼å°‚ç”¨ï¼‰ ======
        async function loadTranslations() {
            try {
                const [jaData, enData] = await Promise.all([
                    fetch('../data/privacy_ja.json').then(res => res.json()),
                    fetch('../data/privacy_en.json').then(res => res.json())
                ]);
                translations = { ja: jaData, en: enData };
                updateLanguage(currentLang);
            } catch (error) {
                console.error('ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
            }
        }

        // ====== è¨€èªã®æ›´æ–° ======
        function updateLanguage(lang) {
            currentLang = lang;
            if (!translations[lang]) return;

            const t = translations[lang];
            
            // ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«
            document.getElementById('pageTitle').textContent = t.privacyPolicyTitle;
            document.getElementById('backToHomeLink').textContent = t.backToHome;
            
            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³
            document.getElementById('section1Title').textContent = t.section1Title;
            document.getElementById('section1Text').textContent = t.section1Text;
            document.getElementById('section2Title').textContent = t.section2Title;
            document.getElementById('section2Text').textContent = t.section2Text;
            document.getElementById('section2Item1').textContent = t.section2Item1;
            document.getElementById('section2Item2').textContent = t.section2Item2;
            document.getElementById('section2Item3').textContent = t.section2Item3;
            document.getElementById('section3Title').textContent = t.section3Title;
            document.getElementById('section3Text').textContent = t.section3Text;
            document.getElementById('section3Item1').textContent = t.section3Item1;
            document.getElementById('section3Item2').textContent = t.section3Item2;
            document.getElementById('section3Item3').textContent = t.section3Item3;
            document.getElementById('section4Title').textContent = t.section4Title;
            document.getElementById('section4Text').textContent = t.section4Text;
            document.getElementById('section5Title').textContent = t.section5Title;
            document.getElementById('section5Text').textContent = t.section5Text;
            document.getElementById('section6Title').textContent = t.section6Title;
            document.getElementById('section6Text').textContent = t.section6Text;
            document.getElementById('section7Title').textContent = t.section7Title;
            document.getElementById('section7Text').textContent = t.section7Text;
            document.getElementById('section8Title').textContent = t.section8Title;
            // section8Textã¯ãƒªãƒ³ã‚¯ã‚’HTMLã§å«ã‚ã‚‹
            const section8El = document.getElementById('section8Text');
            const githubLink = '<a href="https://github.com/ryo0w0/download_time_calc/issues" target="_blank" rel="noopener noreferrer">';
            if (lang === 'ja') {
                section8El.innerHTML = t.section8Text.replace(
                    'GitHubãƒªãƒã‚¸ãƒˆãƒªã®Issue',
                    githubLink + 'GitHubãƒªãƒã‚¸ãƒˆãƒªã®Issue</a>'
                );
            } else {
                section8El.innerHTML = t.section8Text.replace(
                    'Issue on GitHub repository',
                    githubLink + 'Issue on GitHub repository</a>'
                );
            }
            document.getElementById('lastUpdated').textContent = t.lastUpdated;
            
            // è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«
            document.getElementById('settingsTitle').textContent = t.settingsTitle;
            document.getElementById('themeTitle').textContent = t.themeTitle;
            document.getElementById('colorTitle').textContent = t.colorTitle;
            document.getElementById('saveBtnText').textContent = t.saveBtn;
            
            // ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«
            document.title = t.privacyPolicyTitle + ' - ' + (lang === 'en' ? 'Download Time Calculator' : 'ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ™‚é–“è¨ˆç®—');
            
            // è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã®ãƒ†ã‚­ã‚¹ãƒˆåˆ‡ã‚Šæ›¿ãˆ
            if (lang === 'en') {
                document.querySelectorAll('.theme-text-light, .theme-text-dark, .theme-text-gray').forEach(el => el.style.display = 'none');
                document.querySelectorAll('.color-text-blue, .color-text-green, .color-text-purple, .color-text-orange, .color-text-red, .color-text-mono, .color-text-pink').forEach(el => el.style.display = 'none');
                document.querySelectorAll('.theme-text-en, .color-text-en').forEach(el => el.style.display = 'inline');
            } else {
                document.querySelectorAll('.theme-text-light, .theme-text-dark, .theme-text-gray').forEach(el => el.style.display = 'inline');
                document.querySelectorAll('.color-text-blue, .color-text-green, .color-text-purple, .color-text-orange, .color-text-red, .color-text-mono, .color-text-pink').forEach(el => el.style.display = 'inline');
                document.querySelectorAll('.theme-text-en, .color-text-en').forEach(el => el.style.display = 'none');
            }

            // è¨€èªãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹æ›´æ–°
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
            });
        }

        // ====== ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒœã‚¿ãƒ³ã®æ›´æ–° ======
        function updateActiveButtons() {
            const currentTheme = document.body.getAttribute('data-theme');
            const currentAccent = document.body.getAttribute('data-accent');

            document.querySelectorAll('.option-btn[data-theme]').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-theme') === currentTheme);
            });

            document.querySelectorAll('.option-btn[data-color]').forEach(btn => {
                btn.classList.toggle('active', btn.getAttribute('data-color') === currentAccent);
            });
        }

        // ====== JSTæ™‚åˆ»ã®æ›´æ–° ======
        function updateJSTTime() {
            const jstTimeElement = document.getElementById('jstTime');
            if (!jstTimeElement) return;
            const now = new Date();
            const jstTime = new Intl.DateTimeFormat('ja-JP', {
                timeZone: 'Asia/Tokyo',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            }).format(now);
            jstTimeElement.textContent = `JST ${jstTime}`;
        }

        // ====== åˆæœŸåŒ– ======
        document.addEventListener('DOMContentLoaded', function() {
            const settingsBtn = document.getElementById('settingsBtn');
            const settingsModal = document.getElementById('settingsModal');
            const closeModal = document.getElementById('closeModal');
            const saveSettings = document.getElementById('saveSettings');

            // è¨­å®šãƒœã‚¿ãƒ³
            settingsBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                settingsModal.classList.add('show');
                updateActiveButtons();
            });

            // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
            closeModal.addEventListener('click', function() {
                settingsModal.classList.remove('show');
            });

            saveSettings.addEventListener('click', function() {
                settingsModal.classList.remove('show');
            });

            // ãƒ¢ãƒ¼ãƒ€ãƒ«å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
            settingsModal.addEventListener('click', function(e) {
                if (e.target === settingsModal) {
                    settingsModal.classList.remove('show');
                }
            });

            // ãƒ†ãƒ¼ãƒå¤‰æ›´
            document.querySelectorAll('.option-btn[data-theme]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const theme = this.getAttribute('data-theme');
                    document.body.setAttribute('data-theme', theme);
                    setCookie('theme', theme);
                    updateActiveButtons();
                });
            });

            // ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼å¤‰æ›´
            document.querySelectorAll('.option-btn[data-color]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const color = this.getAttribute('data-color');
                    document.body.setAttribute('data-accent', color);
                    setCookie('accent', color);
                    updateActiveButtons();
                });
            });

            // è¨€èªåˆ‡ã‚Šæ›¿ãˆ
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const lang = this.getAttribute('data-lang');
                    updateLanguage(lang);
                    setCookie('lang', lang);
                });
            });

            // ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã§ã‚«ãƒ¼ãƒ‰å¤–ã‚¯ãƒªãƒƒã‚¯ã§ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹
            document.body.addEventListener('click', function(e) {
                if (window.innerWidth <= 480) return;
                
                const card = document.querySelector('.card');
                const container = document.querySelector('.container');
                const topRightControls = document.querySelector('.top-right-controls');
                const backToHomeLink = document.getElementById('backToHomeLink');
                const settingsModal = document.getElementById('settingsModal');
                
                // è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«ãŒé–‹ã„ã¦ã„ã‚‹å ´åˆã¯ä½•ã‚‚ã—ãªã„
                if (settingsModal.classList.contains('show')) return;
                
                // ã‚«ãƒ¼ãƒ‰ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ä»¥å¤–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸå ´åˆ
                if (!card.contains(e.target) && 
                    !container.contains(e.target) && 
                    !topRightControls.contains(e.target) &&
                    !backToHomeLink.contains(e.target)) {
                    window.location.href = '../index.html';
                }
            });

            // JSTæ™‚åˆ»ã®æ›´æ–°
            updateJSTTime();
            setInterval(updateJSTTime, 1000);

            // ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
            loadTranslations();
            
            // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒœã‚¿ãƒ³ã®åˆæœŸåŒ–
            updateActiveButtons();
        });
    </script>
</body>
</html>
